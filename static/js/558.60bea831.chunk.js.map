{"version":3,"file":"static/js/558.60bea831.chunk.js","mappings":"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","sources":["pages/Assurance.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  RadarChart,\r\n  Radar,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  ResponsiveContainer,\r\n  BarChart,\r\n  Bar,\r\n  LineChart,\r\n  Line,\r\n  AreaChart,\r\n  Area,\r\n  CartesianGrid,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  ReferenceLine,\r\n} from \"recharts\";\r\n\r\n// Declare ChartCard FIRST\r\nfunction ChartCard({ title, children }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: 250,\r\n        backgroundColor: \"#ffffff\",\r\n        borderRadius: \"10px\",\r\n        padding: \"0.5rem\",\r\n        boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\r\n      }}\r\n    >\r\n      <h3 style={{ color: \"#112179ff\", marginBottom: \"0.5rem\" }}>{title}</h3>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AssurancePage() {\r\n  const [user, setUser] = useState(null);\r\n  const [plan, setPlan] = useState(\"none\");\r\n  const [assuranceResult, setAssuranceResult] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchUserAndAssurance = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (!token) return;\r\n\r\n        const { userId } = jwt_decode(token);\r\n\r\n        const res = await axios.get(`/user/getuser/${userId}`, {\r\n          headers: { authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        setUser(res.data);\r\n        setPlan(res.data.assurance || \"none\");\r\n\r\n        const payload = {\r\n          age: res.data.age,\r\n          gender: res.data.gender,\r\n          lifestyle: res.data.lifestyle || \"average\",\r\n          chronic_conditions: res.data.chronic_conditions || 0,\r\n        };\r\n\r\n        const assuranceRes = await axios.post(\"/rpc/assurance\", payload, {\r\n          headers: { authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        setAssuranceResult(assuranceRes.data);\r\n      } catch (err) {\r\n        console.error(\"Assurance fetch error:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserAndAssurance();\r\n  }, []);\r\n\r\n  if (loading)\r\n    return (\r\n      <p style={{ textAlign: \"center\", marginTop: \"2rem\" }}>\r\n        Loading user and assurance...\r\n      </p>\r\n    );\r\n\r\n  let planDescription = \"You currently have no medical assurance.\";\r\n  if (plan === \"normal\") {\r\n    planDescription =\r\n      \"Normal plan: covers 50% of illnesses, you are paying 180 DH/month. To change, update in your profile.\";\r\n  } else if (plan === \"premium\") {\r\n    planDescription =\r\n      \"Premium plan: covers 100% of illnesses, you are paying 365 DH/month. To change, update in your profile.\";\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", justifyContent: \"center\", marginTop: \"3rem\" }}>\r\n      <div\r\n        style={{\r\n          maxWidth: \"900px\",\r\n          width: \"90%\",\r\n          backgroundColor: \"#f9f9f9\",\r\n          padding: \"2rem\",\r\n          borderRadius: \"12px\",\r\n          boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        <h2 style={{ color: \"#112179ff\", marginBottom: \"1rem\" }}>\r\n          My Medical Assurance\r\n        </h2>\r\n        <p\r\n          style={{\r\n            fontSize: \"1.05rem\",\r\n            lineHeight: \"1.6\",\r\n            color: \"#333\",\r\n            marginBottom: \"1.5rem\",\r\n          }}\r\n        >\r\n          {planDescription}\r\n        </p>\r\n\r\n{assuranceResult && (\r\n  <>\r\n    {/* Suggested Plan Summary */}\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#ffffff\",\r\n        borderRadius: \"10px\",\r\n        padding: \"1rem\",\r\n        boxShadow: \"0 2px 8px rgba(0,0,0,0.08)\",\r\n        marginBottom: \"1.5rem\",\r\n      }}\r\n    >\r\n      <h3 style={{ color: \"#112179ff\", marginBottom: \"0.5rem\" }}>\r\n        Suggested Plan (AI)\r\n      </h3>\r\n      <p>\r\n        Suggested Plan: <b>{assuranceResult.suggested_plan}</b>\r\n      </p>\r\n      <p>\r\n        Monthly Cost: <b>{assuranceResult.monthly_cost} DH</b>\r\n      </p>\r\n      <p>\r\n        Coverage: <b>{assuranceResult.coverage}</b>\r\n      </p>\r\n      <p>\r\n        Risk Score: <b>{assuranceResult.risk_score.toFixed(2)}%</b>\r\n      </p>\r\n    </div>\r\n\r\n    {(() => {\r\n      // Normalize values to 0-100%\r\n      const normalizedData = assuranceResult.risk_breakdown.map((item) => ({\r\n        ...item,\r\n        value: Math.min(Math.max(item.value, 0), 100),\r\n      }));\r\n\r\n      const totalRisk =\r\n        normalizedData.reduce((sum, item) => sum + item.value, 0) /\r\n        normalizedData.length;\r\n\r\n      // Function to map color by risk level\r\n      const getColor = (value) =>\r\n        value <= 40 ? \"#2ca02c\" : value <= 70 ? \"#ff7f0e\" : \"#d62728\";\r\n\r\n      return (\r\n        <>\r\n          {/* Overall Risk Score */}\r\n          <p style={{ fontWeight: 600, color: \"#112179ff\", marginBottom: \"1rem\" }}>\r\n            Overall Risk Score: <b>{totalRisk.toFixed(1)}%</b> – Higher scores indicate more urgent preventive action.\r\n          </p>\r\n\r\n          {/* Explanatory Legend */}\r\n          <div style={{ display: \"flex\", gap: \"1rem\", marginBottom: \"1rem\" }}>\r\n            <span style={{ color: \"#2ca02c\" }}>Low Risk ≤ 40%</span>\r\n            <span style={{ color: \"#ff7f0e\" }}>Medium Risk 41–70%</span>\r\n            <span style={{ color: \"#d62728\" }}>High Risk greater than 70%</span>\r\n          </div>\r\n\r\n          {/* Charts Grid */}\r\n          <div\r\n            style={{\r\n              display: \"grid\",\r\n              gridTemplateColumns: \"1fr 1fr\",\r\n              gap: \"1.5rem\",\r\n              marginBottom: \"1.5rem\",\r\n            }}\r\n          >\r\n            {/* Radar Chart */}\r\n            <ChartCard title=\"Risk Radar\">\r\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <RadarChart data={normalizedData}>\r\n                  <PolarGrid />\r\n                  <PolarAngleAxis dataKey=\"name\" />\r\n                  <PolarRadiusAxis\r\n                    angle={30}\r\n                    domain={[0, 100]}\r\n                    tickFormatter={(v) => `${v}%`}\r\n                  />\r\n                  <Radar\r\n                    name=\"Risk\"\r\n                    dataKey=\"value\"\r\n                    stroke=\"#ff7f0e\"\r\n                    fill=\"#ff7f0e\"\r\n                    fillOpacity={0.6}\r\n                  />\r\n                  <Tooltip\r\n                    formatter={(value) => `${value}%`}\r\n                    labelFormatter={(label) => `Category: ${label}`}\r\n                  />\r\n                </RadarChart>\r\n              </ResponsiveContainer>\r\n            </ChartCard>\r\n\r\n            {/* Bar Chart */}\r\n            <ChartCard title=\"Risk by Category (Bar)\">\r\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <BarChart data={normalizedData}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis tickFormatter={(v) => `${v}%`} domain={[0, 100]} />\r\n                  <Tooltip\r\n                    formatter={(value) => `${value}%`}\r\n                    labelFormatter={(label) => `Category: ${label}`}\r\n                  />\r\n                  <Bar\r\n                    dataKey=\"value\"\r\n                    fill=\"#ff7f0e\"\r\n                    label={{ position: \"top\", formatter: (v) => `${v}%` }}\r\n                  >\r\n                    {normalizedData.map((entry, index) => (\r\n                      <cell key={`cell-${index}`} fill={getColor(entry.value)} />\r\n                    ))}\r\n                  </Bar>\r\n                  <ReferenceLine y={50} stroke=\"red\" strokeDasharray=\"3 3\" label=\"Max Acceptable\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </ChartCard>\r\n\r\n            {/* Line Chart */}\r\n            <ChartCard title=\"Risk Trend (Line)\">\r\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <LineChart data={normalizedData}>\r\n                  <CartesianGrid stroke=\"#ccc\" />\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis tickFormatter={(v) => `${v}%`} domain={[0, 100]} />\r\n                  <Tooltip\r\n                    formatter={(value) => `${value}%`}\r\n                    labelFormatter={(label) => `Category: ${label}`}\r\n                  />\r\n                  <Line\r\n                    type=\"monotone\"\r\n                    dataKey=\"value\"\r\n                    stroke=\"#2ca02c\"\r\n                    strokeWidth={3}\r\n                    dot={{ r: 5 }}\r\n                  />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </ChartCard>\r\n\r\n            {/* Area Chart */}\r\n            <ChartCard title=\"Cumulative Risk (Area)\">\r\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <AreaChart data={normalizedData}>\r\n                  <defs>\r\n                    <linearGradient id=\"colorValue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                      <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8} />\r\n                      <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0} />\r\n                    </linearGradient>\r\n                  </defs>\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis tickFormatter={(v) => `${v}%`} domain={[0, 100]} />\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <Tooltip\r\n                    formatter={(value) => `${value}%`}\r\n                    labelFormatter={(label) => `Category: ${label}`}\r\n                  />\r\n                  <Area\r\n                    type=\"monotone\"\r\n                    dataKey=\"value\"\r\n                    stroke=\"#8884d8\"\r\n                    fill=\"url(#colorValue)\"\r\n                  />\r\n                </AreaChart>\r\n              </ResponsiveContainer>\r\n            </ChartCard>\r\n          </div>\r\n\r\n          {/* Recommendations per category */}\r\n          <div>\r\n            <h4 style={{ marginBottom: \"0.5rem\" }}>Category Recommendations:</h4>\r\n            {normalizedData.map((item) => (\r\n              <p key={item.name}>\r\n                <b>{item.name}</b>: {item.value}% –{\" \"}\r\n                {item.value > 70\r\n                  ? \"High risk – consider preventive measures.\"\r\n                  : item.value > 40\r\n                  ? \"Moderate risk – monitor closely.\"\r\n                  : \"Low risk – maintain current habits.\"}\r\n              </p>\r\n            ))}\r\n          </div>\r\n        </>\r\n      );\r\n    })()}\r\n  </>\r\n)}\r\n\r\n\r\n        <button\r\n          onClick={() => navigate(\"/\")}\r\n          style={{\r\n            marginTop: \"2rem\",\r\n            padding: \"0.6rem 1.2rem\",\r\n            backgroundColor: \"#112179ff\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: \"8px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Back to Home\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AssurancePage;\r\n"],"names":["ChartCard","_ref","title","children","_jsxs","style","width","height","backgroundColor","borderRadius","padding","boxShadow","_jsx","color","marginBottom","user","setUser","useState","plan","setPlan","assuranceResult","setAssuranceResult","loading","setLoading","navigate","useNavigate","useEffect","async","token","localStorage","getItem","userId","jwt_decode","res","axios","get","concat","headers","authorization","data","assurance","payload","age","gender","lifestyle","chronic_conditions","assuranceRes","post","err","console","error","fetchUserAndAssurance","textAlign","marginTop","planDescription","display","justifyContent","maxWidth","fontSize","lineHeight","_Fragment","suggested_plan","monthly_cost","coverage","risk_score","toFixed","normalizedData","risk_breakdown","map","item","_objectSpread","value","Math","min","max","totalRisk","reduce","sum","length","fontWeight","gap","gridTemplateColumns","ResponsiveContainer","RadarChart","PolarGrid","PolarAngleAxis","dataKey","PolarRadiusAxis","angle","domain","tickFormatter","v","Radar","name","stroke","fill","fillOpacity","Tooltip","formatter","labelFormatter","label","BarChart","CartesianGrid","strokeDasharray","XAxis","YAxis","Bar","position","entry","index","ReferenceLine","y","LineChart","Line","type","strokeWidth","dot","r","AreaChart","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","Area","onClick","border","cursor"],"sourceRoot":""}