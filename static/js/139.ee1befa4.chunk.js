"use strict";(self.webpackChunkDDS_FRONT=self.webpackChunkDDS_FRONT||[]).push([[139],{5139:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var l=t(5043),i=t(6760),o=t(5560),r=t(8114),s=t(5789),a=t(5089),d=t(8271),c=t(9456),h=t(7070),p=t(9722),x=t(3768),m=t(1389),u=t(5239),j=t.n(u),g=(t(8067),t(579));const v=()=>{var e;const[n,t]=(0,l.useState)([]),u=(0,c.wA)(),{loading:v}=(0,c.d4)(e=>e.root),{userId:b}=(0,h.A)(localStorage.getItem("token")),f=async()=>{try{u((0,a.r1)(!0));const e=await(0,s.A)("/appointment/getallappointments?search=".concat(b));t(e),u((0,a.r1)(!1))}catch(e){u((0,a.r1)(!1))}};(0,l.useEffect)(()=>{f()},[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.A,{}),v?(0,g.jsx)(d.A,{}):(0,g.jsxs)("section",{className:"container notif-section",children:[(0,g.jsx)("h2",{className:"page-heading",children:"Your Appointments"}),n.length>0?(0,g.jsx)("div",{className:"appointments",children:(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"S.No"}),(0,g.jsx)("th",{children:"Doctor"}),(0,g.jsx)("th",{children:"Patient"}),(0,g.jsx)("th",{children:"Appointment Date"}),(0,g.jsx)("th",{children:"Appointment Time"}),(0,g.jsx)("th",{children:"Booking Date"}),(0,g.jsx)("th",{children:"Booking Time"}),(0,g.jsx)("th",{children:"Status"}),(0,g.jsx)("th",{children:"Receipt"}),b===(null===(e=n[0].doctorId)||void 0===e?void 0:e._id)&&(0,g.jsx)("th",{children:"Action"})]})}),(0,g.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((e,n)=>{var t,l,i,o,r;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{"data-label":"S.No",children:n+1}),(0,g.jsx)("td",{"data-label":"Doctor",children:(null===e||void 0===e||null===(t=e.doctorId)||void 0===t?void 0:t.firstname)+" "+(null===e||void 0===e||null===(l=e.doctorId)||void 0===l?void 0:l.lastname)}),(0,g.jsx)("td",{"data-label":"Patient",children:(null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.firstname)+" "+(null===e||void 0===e||null===(o=e.userId)||void 0===o?void 0:o.lastname)}),(0,g.jsx)("td",{"data-label":"Appointment Date",children:null===e||void 0===e?void 0:e.date}),(0,g.jsx)("td",{"data-label":"Appointment Time",children:null===e||void 0===e?void 0:e.time}),(0,g.jsx)("td",{"data-label":"Booking Date",children:null===e||void 0===e?void 0:e.createdAt.split("T")[0]}),(0,g.jsx)("td",{"data-label":"Booking Time",children:null===e||void 0===e?void 0:e.updatedAt.split("T")[1].split(".")[0]}),(0,g.jsx)("td",{"data-label":"Status",children:null===e||void 0===e?void 0:e.status}),(0,g.jsx)("td",{"data-label":"Receipt",children:(0,g.jsx)("button",{onClick:()=>(async e=>{var n,t,l,i;const o=document.createElement("div");o.style.width="250px",o.style.padding="16px 14px",o.style.borderRadius="14px",o.style.fontFamily="Poppins, Arial, sans-serif",o.style.color="#0e0e0e",o.style.textAlign="center",o.style.background="\n    linear-gradient(135deg, rgba(0,120,255,0.08) 0%, rgba(0,180,255,0.15) 100%)\n  ",o.style.border="1px solid rgba(0,120,255,0.4)",o.style.boxShadow="0 3px 18px rgba(0,0,0,0.1)",o.style.backdropFilter="blur(5px)",o.style.position="fixed",o.style.top="-9999px",o.style.backgroundColor="transparent";const r="".concat((null===e||void 0===e||null===(n=e.doctorId)||void 0===n?void 0:n.firstname)||""," ").concat((null===e||void 0===e||null===(t=e.doctorId)||void 0===t?void 0:t.lastname)||""),s="Dr. ".concat(r);o.innerHTML='\n    <img src="'.concat(window.location.origin,'/logo.png"\n         style="width:60px;margin-bottom:6px;opacity:0.95;"\n         alt="logo"/>\n\n    <h3 style="margin:4px 0 2px 0;\n               font-size:14px;\n               color:#003366;\n               letter-spacing:0.5px;\n               font-weight:600;">\n      Appointment Receipt\n    </h3>\n    <p style="margin:0;font-size:10px;color:#444;">UIZ Hospital </p>\n\n    <hr style="margin:8px 0;border:none;border-top:1px dashed rgba(0,0,0,0.25);">\n\n   <p style="margin:4px 0;font-size:12px;">\n  <strong>Doctor:</strong> ').concat(s,'\n</p>\n\n\n\n\n    <p style="margin:4px 0;font-size:12px;">\n      <strong>Patient:</strong> ').concat((null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.firstname)||""," ").concat((null===e||void 0===e||null===(i=e.userId)||void 0===i?void 0:i.lastname)||"",'\n    </p>\n\n    <p style="margin:4px 0;font-size:12px;">\n      <strong>Date:</strong> ').concat(null===e||void 0===e?void 0:e.date,'\n    </p>\n\n    <p style="margin:4px 0;font-size:12px;">\n      <strong>Time:</strong> ').concat(null===e||void 0===e?void 0:e.time,'\n    </p>\n\n    <p style="margin:4px 0;font-size:12px;">\n      <strong>Status:</strong> ').concat(null===e||void 0===e?void 0:e.status,'\n    </p>\n\n    <hr style="margin:8px 0;border:none;border-top:1px dashed rgba(0,0,0,0.25);">\n\n    <p style="font-size:9px;color:#555;margin-top:4px;">\n      Generated on ').concat((new Date).toLocaleString(),'\n    </p>\n\n    <p style="font-size:8px;color:#999;margin-top:2px;">\n      \xa9 UIZ Hospital | Digital Healthcare System\n    </p>\n  '),document.body.appendChild(o);try{const n=(await j()(o,{scale:3,useCORS:!0,backgroundColor:null})).toDataURL("image/png"),t=new m.Ay({orientation:"portrait",unit:"mm",format:[75,100]});t.addImage(n,"PNG",4,4,67,92),t.save("Appointment_".concat(null===e||void 0===e?void 0:e._id,".pdf"))}catch(a){console.error("Error generating receipt PDF:",a)}finally{document.body.removeChild(o)}})(e),className:"btn user-btn",style:{background:"#0a84ff",color:"#fff",padding:"5px 10px",borderRadius:"6px",fontSize:"12px"},children:"Download"})}),b===(null===e||void 0===e||null===(r=e.doctorId)||void 0===r?void 0:r._id)&&(0,g.jsx)("td",{"data-label":"Action",children:(0,g.jsx)("button",{className:"btn user-btn accept-btn ".concat("Completed"===(null===e||void 0===e?void 0:e.status)?"disable-btn":""),disabled:"Completed"===(null===e||void 0===e?void 0:e.status),onClick:()=>(async e=>{try{var n,t,l;await x.Ay.promise(p.A.put("/appointment/completed",{appointid:null===e||void 0===e?void 0:e._id,doctorId:null===e||void 0===e||null===(n=e.doctorId)||void 0===n?void 0:n._id,doctorname:"".concat(null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.firstname," ").concat(null===e||void 0===e||null===(l=e.userId)||void 0===l?void 0:l.lastname)},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{success:"Appointment completed",error:"Unable to complete appointment",loading:"Completing..."}),f()}catch(i){}})(e),children:"Complete"})})]},null===e||void 0===e?void 0:e._id)})})]})}):(0,g.jsx)(i.A,{})]}),(0,g.jsx)(o.A,{})]})}},5560:(e,n,t)=>{t.d(n,{A:()=>o});t(5043);var l=t(5369),i=t(579);const o=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("footer",{children:[(0,i.jsxs)("div",{className:"footer",children:[(0,i.jsxs)("div",{className:"footer-links",children:[(0,i.jsx)("h3",{children:"Our Team"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/hlnajz",target:"_blank",rel:"noopener noreferrer",children:"HAMZA LABBAALLI"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/abdelouahed-id",target:"_blank",rel:"noopener noreferrer",children:"ABDELOUAHED ID-BOUBRIK"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/yassine-maarouf-b17672324/",target:"_blank",rel:"noopener noreferrer",children:"YASSINE MAAROUF"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/soumaya-iddaha-565581254/",target:"_blank",rel:"noopener noreferrer",children:"SOUMAYA IDDAHA"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/nada-bermil-80b2a334a/",target:"_blank",rel:"noopener noreferrer",children:"NADA BERMIL"})})]})]}),(0,i.jsxs)("div",{className:"social",children:[(0,i.jsx)("h3",{children:"Social links"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{className:"facebook",children:(0,i.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,i.jsx)(l.ok6,{})})}),(0,i.jsx)("li",{className:"youtube",children:(0,i.jsx)("a",{href:"https://www.youtube.com/@hlnajz",target:"_blank",rel:"noreferrer",children:(0,i.jsx)(l.Vk6,{})})}),(0,i.jsx)("li",{className:"instagram",children:(0,i.jsx)("a",{href:"https://www.instagram.com/hlnajz.dev",target:"_blank",rel:"noreferrer",children:(0,i.jsx)(l.ao$,{})})}),(0,i.jsx)("li",{className:"linkedin",children:(0,i.jsx)("a",{href:"https://www.linkedin.com/in/hlnajz",target:"_blank",rel:"noreferrer",children:(0,i.jsx)(l.H1h,{})})}),(0,i.jsx)("li",{className:"github",children:(0,i.jsx)("a",{href:"https://github.com/hlnajz",target:"_blank",rel:"noreferrer",children:(0,i.jsx)(l.hL4,{})})})]})]})]}),(0,i.jsxs)("div",{className:"footer-bottom",children:["Made by"," ",(0,i.jsx)("a",{href:"https://www.linkedin.com/in/hlnajz",target:"_blank",rel:"noreferrer",children:"UIZ Hospital - IISE"})," ","\xa9 ",(new Date).getFullYear()]})]})})},6760:(e,n,t)=>{t.d(n,{A:()=>i});t(5043);var l=t(579);const i=()=>(0,l.jsx)("h2",{className:"nothing flex-center",children:"Nothing to show"})},8067:()=>{},8114:(e,n,t)=>{t.d(n,{A:()=>p});var l=t(5043),i=t(3216),o=t(5475),r=t(9456),s=t(5089),a=t(1009),d=t(5922),c=t(7070),h=t(579);const p=()=>{const[e,n]=(0,l.useState)(!1),t=(0,r.wA)(),p=(0,i.Zp)(),[x]=(0,l.useState)(localStorage.getItem("token")||""),[m]=(0,l.useState)(x?(0,c.A)(localStorage.getItem("token")):null);return(0,h.jsx)("header",{children:(0,h.jsxs)("nav",{children:[(0,h.jsxs)("div",{className:"nav-container",children:[(0,h.jsx)("h2",{className:"nav-logo",children:(0,h.jsx)(o.k2,{to:"/",children:"UIZ Hospital"})}),(0,h.jsxs)("ul",{className:"nav-links ".concat(e?"nav-active":""),children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/",children:"Home"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/doctors",children:"Doctors"})}),x&&(null===m||void 0===m?void 0:m.isAdmin)&&(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/dashboard/users",children:"Dashboard"})}),x&&m&&!m.isAdmin&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/appointments",children:"Appointments"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/notifications",children:"Notifications"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/assurance",children:"Assurance"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{to:"/profile",children:"Profile"})})]}),x?(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"btn",onClick:()=>{t((0,s.iA)({})),localStorage.removeItem("token"),p("/login")},children:"Logout"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{className:"btn",to:"/login",children:"Login"})}),(0,h.jsx)("li",{children:(0,h.jsx)(o.k2,{className:"btn",to:"/register",children:"Register"})})]})]})]}),(0,h.jsxs)("div",{className:"menu-icons",children:[!e&&(0,h.jsx)(a.ND1,{className:"menu-open",onClick:()=>n(!0)}),e&&(0,h.jsx)(d.clO,{className:"menu-close",onClick:()=>n(!1)})]})]})})}}}]);
//# sourceMappingURL=139.ee1befa4.chunk.js.map